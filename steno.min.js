(function(n){function dt(n){for(var r=new e(pt),t=[],i;i=r.exec(n);)t.push(i[1]);return t.join(a)}function gt(n){for(var u=new e(wt),i={},r;r=u.exec(n);)i[r[1]]=r[2];return p(i,t),i}function ni(n,u){i(f,u)&&(u=!1);var b=new e(rt),o=b.exec(n),c,h,s,y=null;return(p(o,t),o[5]===t&&(o[5]=at),c=dt(o[7]),h=gt(o[8]),o[6]&&(h.id=o[6]),c&&(h[l]=h[l]?c+a+h[l]:c),s=o[10],s?(s=tt(s),w(s)&&(s=1)):s=1,o[11]&&(y=o[11]),!u)?r(!0,{},v,{name:o[5],attributes:h,text:o[9],multiplier:s,context:y}):{name:o[5],attributes:h,text:o[9],multiplier:s,context:y}}function ti(n){for(var c,o,l,u,s,h,d,nt=new e(rt),b=[],g;l=nt.exec(n);){if(p(l,t),l[0]===t)break;b.push(l)}for(o=r(!0,{},v),u=y(o),c=0;c<b.length;c++){g=b[c][1];switch(g.charAt(0)){case a:case k:case"(":u=y(u);break;case"+":i(f,u.parent)&&(u.parent=r(!0,{},v));u=y(u.parent);break;case"^":s=u.parent||u;u=y(s.parent||s);break;case")":for(s=u.parent;s.name!==t;)d=u.parent,s=d.parent;h=b[c][4];h?(h=tt(h),w(h)&&(h=1)):h=1;s.multiplier=h;u=s||d||u;break;default:r(u,ni(g,!0))}}return o.name===t&&o.children.length===1&&(o=o.children[0],o.parent=null),ii(o)}function ii(n){for(var t=n,i=t.parent;i!=null;)t=i,i=t.parent;return t}function y(n,t){return i(f,t)&&(t=r(!0,{},v)),t.parent=n,n.children.push(t),t}function ut(n,t){var r,u=n.split("."),i=t;for(r in u)i=i[u[r]];return i}function ft(n,t){for(var o=new e(bt),i=[],f=[],r,u;r=o.exec(n);)i.push(r[0]),f.push(ut(r[1],t));for(u in i)n=n.replace(i[u],f[u]);return n}function d(n,r){if(i(ct,n))return d(ti(n),r);r=n.context?ut(n.context,r):r;var u,y,o=r,h=n.name,p=n.attributes,g=n.multiplier,nt=n.text,w=n.children,b=t;i(s,r)||(o=n.context&&i(f,r)?[]:[r||{}]);for(y in o){var c=o[y],e=t,l=t,v=t;if(h){e+="<"+h;for(u in p)e+=a+u+'="'+ft(p[u],c)+'"';e+=k;v="<\/"+h+k+v}l+=ft(nt,c);for(u in w)l+=d(w[u],c);for(u=0;u<g;u++)b+=e+l+v}return b}function ri(n){var i=n.replace(/\\/g,"\\\\").replace(/'/g,"\\'"),t=new Function("context","return steno.html('"+i+"',context);");return t.render=t,t}function et(n,t){return st.call(t,n)}function i(n,t){var i=n.toString().split(h),r=!1;for(var u in i)if(i[u]===b){if(ot(t)!==o||t.nodeType||t===t.window)continue;if(t.constructor&&!et("isPrototypeOf",t.constructor.prototype))continue;r=!0;break}else if(ot(t)===i[u]){r=!0;break}return r}function ot(n){if(typeof n===c)return c;if(n===null)return it;var i=ht.call(n).match(/^\[object\s(.*)\]$/),r=i&&i[1]||t;switch(r){case"Number":return w(n)?"nan":vt;case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return r.toLowerCase()}return typeof n===o?o:undefined}function ui(n){return i(f,n)?t:n.toString().replace(kt,t)}function p(n,t){if(!i(o+h+s,n))return n;for(var r in n)i(f,n[r])&&(n[r]=t);return n}function fi(n){return n[nt.floor(nt.random()*n.length)]}function r(){var e,f,u,t,a,n=arguments[0]||{},c=1,v=arguments.length,l=!1;for(i(lt,n)&&(l=n,n=arguments[c++]||{}),typeof n===o||i(yt,n)||(n={});c<v;c++)if(e=arguments[c],e!=null)for(f in e)(u=n[f],t=e[f],t!==n)&&(l&&t&&i(b+h+s,t)?(a=i(s,t)?u&&i(s,u)?u:[]:u&&i(b,u)?u:{},n[f]=r(l,a,t)):t!==undefined&&(n[f]=t));return n}var u={},g=Object.prototype,st=g.hasOwnProperty,ht=g.toString,w=isNaN,e=RegExp,nt=Math,tt=parseInt,ct="string",lt="boolean",it="null",h="|",c="undefined",f=it+h+c,t="",at="div",l="class",o="object",s="array",b="plain object",vt="number",a=" ",k=">",yt="function",rt=/(( |\+|\^|>|\()|(\))(?:\*(\d+))?|([a-z]+[0-9]?)?(?:#([a-z-]+))?((?:\.[a-z-]+)*)((?:\[(?:[a-z-]+(?:="(?:\\.|[^\n\r"\\])*")?[\t ]?)+\])*)(?:\{((?:\\.|[^\n\r\\}])*)\})?(?:\*(\d+))?(?:\\([a-z._-]+))?)/g,pt=/\.([a-z-_]+)/g,wt=/([a-z-_]+)(?:="((?:\\.|[^\n\r"\\])*)")?/g,bt=/\\([a-z\$_.-]+)/g,kt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v={parent:null,name:t,attributes:{},children:[],text:t,multiplier:1,context:null};r(u,{html:d,compile:ri,extend:r,has:et,is:i,trim:ui,random:fi,nullify:p});typeof n!==c&&n!=null&&function(){var t=n.steno;return u.noConflict=function(i){return i&&n.steno===u&&(n.steno=t),u},n.steno=u,u}()})(function(){return this}());
/*
//# sourceMappingURL=steno.min.js.map
*/